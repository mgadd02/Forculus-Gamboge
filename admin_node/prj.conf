############## Networking and MQTT ##############
# General networking
CONFIG_NETWORKING=y
CONFIG_NET_IPV4=y
CONFIG_NET_TCP=y
CONFIG_NET_UDP=y
CONFIG_NET_SOCKETS=y

# Use Zephyr-style socket names (zsock_*) â€” do NOT enable POSIX_NAMES
# CONFIG_NET_SOCKETS_POSIX_NAMES=n

# MQTT support (no TLS for simplicity)
CONFIG_MQTT_LIB=y
CONFIG_MQTT_LIB_TLS=n

# Enable Wi-Fi
CONFIG_WIFI=y
CONFIG_WIFI_ESP32=y
CONFIG_WIFI_INIT_PRIORITY=90

# DHCP
CONFIG_NET_DHCPV4=y

# Network auto-init (optional; enables interface startup automatically)
# CONFIG_NET_CONFIG_AUTO_INIT=y

# Enable hostname support
CONFIG_NET_HOSTNAME_ENABLE=y

# Connection manager (helps with Wi-Fi)
CONFIG_NET_CONNECTION_MANAGER=y

# Logging
CONFIG_LOG=y
CONFIG_NET_LOG=y
# CONFIG_NET_DHCPV4_LOG_LEVEL_DBG=y
# CONFIG_MQTT_LOG_LEVEL_DBG=y

# JSON support (if needed for message parsing)
CONFIG_JSON_LIBRARY=y

# Increase buffer sizes (safe defaults)
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_NET_PKT_RX_COUNT=16
CONFIG_NET_PKT_TX_COUNT=16
CONFIG_NET_BUF_RX_COUNT=64
CONFIG_NET_BUF_TX_COUNT=64
CONFIG_NET_CONTEXT_NET_PKT_POOL=y

# Optional: POSIX compatibility (basic)
CONFIG_POSIX_API=y

CONFIG_NET_L2_ETHERNET=y
CONFIG_ETH_INIT_PRIORITY=80

CONFIG_ESP32_USE_UNSUPPORTED_REVISION=y

CONFIG_DNS_RESOLVER=y

CONFIG_HEAP_MEM_POOL_SIZE=61440

CONFIG_LOG_DEFAULT_LEVEL=3  
# 0=none, 1=err, 2=warn, 3=inf, 4=dbg

################################################